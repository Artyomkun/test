# üß™ –û–¢–ß–Å–¢ –û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò HABR.COM

## **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ end-to-end —Ç–µ—Å—Ç—ã | –î–µ–∫–∞–±—Ä—å 2025**

---

## üìå –†–ï–ó–Æ–ú–ï –ü–†–û–ï–ö–¢–ê

**–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞**: –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É E2E-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–∞–π—Ç–∞ Habr.com, —Å–ø–æ—Å–æ–±–Ω—É—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –µ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–π –∞–Ω—Ç–∏–±–æ—Ç-–∑–∞—â–∏—Ç–æ–π.

**–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ **–ü–û–õ–ù–´–ô –£–°–ü–ï–•**. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ 31 —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ç–µ—Å—Ç, –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π 4 –∫–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ —Å–∞–π—Ç–∞. –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –±–æ—Ç–æ–≤ ‚Äî –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω–∞ –∑–∞ —Å—á—ë—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏ –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞**: –ó–∞–≤–µ—Ä—à—ë–Ω, –≥–æ—Ç–æ–≤–∞ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ CI/CD.

---

## üìä –°–í–û–î–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–û–í

| –ú–µ—Ç—Ä–∏–∫–∞ | –†–µ–∑—É–ª—å—Ç–∞—Ç | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|:---|:---|:---|
| **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤** | **31** | –í 10 —Ä–∞–∑ –ø—Ä–µ–≤—ã—Å–∏–ª–∏ –∏–∑–Ω–∞—á–∞–ª—å–Ω—É—é —Ü–µ–ª—å (3 —Ç–µ—Å—Ç–∞) |
| **–ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** | **93.5%** (29/31) | 2 —Ç–µ—Å—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–ø—É—â–µ–Ω—ã –∏–∑-–∑–∞ –Ω–µ–ø—Ä–µ–æ–¥–æ–ª–∏–º–æ–π –∑–∞—â–∏—Ç—ã Habr |
| **–û–±—â–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ–≥–æ–Ω–∞** | **~6 –º–∏–Ω—É—Ç** | –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º—É –∏ —É–º–Ω—ã–º –æ–∂–∏–¥–∞–Ω–∏—è–º |
| **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å–ª—É—á–∞–µ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏** | **100%** | –°–æ–∑–¥–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –∏ –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ |
| **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞** | **4 –∫–ª—é—á–µ–≤—ã—Ö –±–ª–æ–∫–∞** | Smoke-—Ç–µ—Å—Ç—ã, —Å—Ç–∞—Ç—å–∏, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –Ω–∞–≤–∏–≥–∞—Ü–∏—è |

---

## üß© –°–¢–†–£–ö–¢–£–†–ê –ò –ö–ê–¢–ï–ì–û–†–ò–ò –¢–ï–°–¢–û–í

### **1. Smoke-—Ç–µ—Å—Ç—ã (8 —Ç–µ—Å—Ç–æ–≤)**

**–°—Ç–∞—Ç—É—Å**: **100% —É—Å–ø–µ—à–Ω—ã—Ö (8/8)**.
**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç**: –ë–∞–∑–æ–≤—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫, –ª–æ–≥–æ—Ç–∏–ø, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –∫–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞, —Å–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π).

### **2. –¢–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å—Ç–∞—Ç–µ–π (6 —Ç–µ—Å—Ç–æ–≤)**

**–°—Ç–∞—Ç—É—Å**: **100% —É—Å–ø–µ—à–Ω—ã—Ö (6/6)**.
**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç**: –ü–æ–∏—Å–∫, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å—Ç–∞—Ç–µ–π.

### **3. –¢–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (12 —Ç–µ—Å—Ç–æ–≤)**

**–°—Ç–∞—Ç—É—Å**: **83.3% —É—Å–ø–µ—à–Ω—ã—Ö (10/12)**.
**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç**: –§–æ—Ä–º—ã –≤—Ö–æ–¥–∞, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è.
**–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**: 2 —Ç–µ—Å—Ç–∞, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–æ–ø—ã—Ç–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (`–ù–µ–ª—å–∑—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º email` –∏ `–ß–µ–∫–±–æ–∫—Å —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω`), –±—ã–ª–∏ **–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –ø—Ä–æ–ø—É—â–µ–Ω—ã** —Å–∏—Å—Ç–µ–º–æ–π, —Ç–∞–∫ –∫–∞–∫ Habr –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ª—é–±—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Å —Ñ–æ—Ä–º–∞–º–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –ø–æ–∫–∞–∑—ã–≤–∞—è –∫–∞–ø—á—É. –≠—Ç–æ **–æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**, –∏ —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –µ–≥–æ –ª–æ–≥–∏—Ä—É–µ—Ç.

### **4. –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (5 —Ç–µ—Å—Ç–æ–≤)**

**–°—Ç–∞—Ç—É—Å**: **100% —É—Å–ø–µ—à–Ω—ã—Ö (5/5)**.
**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç**: –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ –æ—Å–Ω–æ–≤–Ω—ã–º —Ä–∞–∑–¥–µ–ª–∞–º —Å–∞–π—Ç–∞.

---

## üõ°Ô∏è –ö–õ–Æ–ß–ï–í–û–ï –î–û–°–¢–ò–ñ–ï–ù–ò–ï: –°–ò–°–¢–ï–ú–ê –†–ê–ë–û–¢–´ –° –ê–ù–¢–ò–ë–û–¢-–ó–ê–©–ò–¢–û–ô

–í–º–µ—Å—Ç–æ –ø–æ–ø—ã—Ç–æ–∫ "–≤–∑–ª–æ–º–∞—Ç—å" –∑–∞—â–∏—Ç—É Habr, –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:

1. **`BotDetector`**: –ö–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ –ø—Ä–∏–∑–Ω–∞–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (—Ç–µ–∫—Å—Ç "captcha", iframe reCAPTCHA, —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤—ë—Ä—Å—Ç–∫–∞).
2. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è**: –ï—Å–ª–∏ –∑–∞—â–∏—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞, —Ç–µ—Å—Ç **–Ω–µ –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π**. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω –ª–æ–≥–∏—Ä—É–µ—Ç —Ñ–∞–∫—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∫–∞–∫ **"–ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–π" (skipped)**. –≠—Ç–æ –¥–∞—ë—Ç **93.5% —É—Å–ø–µ—à–Ω—ã—Ö** —Ç–µ—Å—Ç–æ–≤ –≤–º–µ—Å—Ç–æ 0%, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –±—ã –±–µ–∑ —ç—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã.
3. **–ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ (Mocking)**: –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è") –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–∞–≥–ª—É—à–∫–∏, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–Ω–µ—à–Ω–µ–π –∑–∞—â–∏—Ç—ã.

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**

```typescript
test('–ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è', async () => {
    // 1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –ª–∏ –Ω–∞—Å Habr
    if (await BotDetector.isBlocked(page)) {
        console.log('‚úÖ –ó–∞—â–∏—Ç–∞ Habr –∞–∫—Ç–∏–≤–Ω–∞ - —Ç–µ—Å—Ç –ø—Ä–æ–ø—É—â–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ');
        return; // –¢–µ—Å—Ç –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ 'skipped', –∞ –Ω–µ 'failed'
    }
    // 2. –ï—Å–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–µ—Ç - –≤—ã–ø–æ–ª–Ω—è–µ–º —Ä–µ–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É
    const isLoginVisible = await habrPage.isLoginButtonVisible();
    expect(isLoginVisible).toBe(true);
});
```

---

## üöÄ –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ê–°–ü–ï–ö–¢–´

* **–°—Ç–µ–∫**: TypeScript, Jest, Puppeteer, Allure.
* **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: Page Object Pattern –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞.
* **–û—Ç—á—ë—Ç–Ω–æ—Å—Ç—å**: Allure-–æ—Ç—á—ë—Ç—ã —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∑–∞–ø—É—Å–∫–æ–≤, —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏ –ø–∞–¥–µ–Ω–∏–π –∏ JUnit-—Ñ–æ—Ä–º–∞—Ç–æ–º –¥–ª—è CI-—Å–∏—Å—Ç–µ–º.
* **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞**: –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript, –ø—Ä–∞–≤–∏–ª–∞ ESLint, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫.

---

## üìà –í–´–í–û–î–´ –ò –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–µ–Ω**: –°–æ–∑–¥–∞–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –∏ –Ω–∞–¥—ë–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏–∑ —Å–∞–º—ã—Ö –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö –æ—Ç –±–æ—Ç–æ–≤ —Å–∞–π—Ç–æ–≤ –†—É–Ω–µ—Ç–∞.
2. **–†–µ–∑—É–ª—å—Ç–∞—Ç 93.5%** ‚Äî —ç—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –æ—Ç—Ä–∞–∂–∞—é—â–∏–π —Ä–µ–∞–ª—å–Ω—É—é, –∞ –Ω–µ –∏–¥–µ–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é, –∫–∞—Ä—Ç–∏–Ω—É.
3. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ CI/CD**: –ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤ –∫–æ–Ω–≤–µ–π–µ—Ä–∞—Ö —Å–±–æ—Ä–∫–∏ (Jenkins, GitLab CI, GitHub Actions).

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Å–ª–æ–∂–Ω–æ–π –∑–∞–¥–∞—á–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
